<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- 웹앱으로 인식되도록 설정 -->
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <link rel="manifest" href="/manifest.json" />
    <link rel="icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" href="./assets/icons/icon_coupang.png" />
    <link rel="icon" type="image/png" sizes="192x192" href="./assets/icons/icon_coupang.png" />
    <title>쿠팡</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        background-color: #eeeeee;
        margin-top: 30px;
      }

      .app-container {
        display: flex;
        justify-content: center; /* 가로 가운데 정렬 */
        flex-wrap: wrap; /* 다음 줄로 자연스럽게 넘어감 */
        gap: 20px; /* 앱 간 간격 */
        padding: 20px;
      }

      .app-item {
        position: relative;
        width: 60px; /* 아이콘과 텍스트를 포함한 고정 가로폭 */
        text-align: center; /* 텍스트 중앙 정렬 */
      }

      .app-icon {
        position: relative;
      }

      .app-icon img {
        width: 60px; /* 모든 아이콘의 가로폭 동일 */
        height: 60px; /* 정사각형 비율 유지 */
        background-color: #ffffff;
        border-radius: 15px; /* 둥근 모서리 */
        box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.2);
      }

      .app-name {
        font-size: 12px;
        color: #333;
        word-wrap: break-word; /* 긴 이름은 줄바꿈 */
        margin-top: 5px;
      }

      .ready {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        background: rgba(0, 0, 0, 0.5);
        border-radius: 15px; /* 둥근 모서리 */
        color: #fff;
      }

      a {
        text-decoration: none; /* 밑줄 제거 */
      }

      .toggle-container {
        margin-top: 15px;
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 1rem;
        font-size: 1rem;
      }

      .switch {
        position: relative;
        display: inline-block;
        width: 50px;
        height: 24px;
      }

      .switch input {
        opacity: 0;
        width: 0;
        height: 0;
      }

      .slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: #ccc;
        transition: 0.4s;
        border-radius: 24px;
      }

      .slider:before {
        position: absolute;
        content: "";
        height: 18px;
        width: 18px;
        left: 3px;
        bottom: 3px;
        background-color: white;
        transition: 0.4s;
        border-radius: 50%;
      }

      input:checked + .slider {
        background-color: #2196f3;
      }

      input:checked + .slider:before {
        transform: translateX(26px);
      }
    </style>
  </head>
  <body>
    <div style="width: 100%; text-align: center">
      <a href="https://link.coupang.com/a/cabZVz" target="_blank" style="display: inline-block">
        <div class="app-item" style="width: 120px">
          <div class="app-icon"><img src="./assets/icons/icon_coupang.png" style="width: 120px; height: 120px" /></div>
          <div class="app-name">쿠팡</div>
        </div>
      </a>

      <div class="toggle-container">
        <label>다음부턴 자동으로 쿠팡열기</label>
        <label class="switch">
          <input type="checkbox" id="autoRedirect" />
          <span class="slider"></span>
        </label>
      </div>
    </div>

    <div class="app-container">
      <a href="https://atomyeasy.kr" target="_blank">
        <div class="app-item">
          <div class="app-icon"><img src="./assets/icons/icon_atomy_easy.png" /></div>
          <div class="app-name">애터미<br />비회원 구매</div>
        </div>
      </a>

      <a href="https://play.google.com/store/apps/details?id=com.freeformlabs.everybodymap" target="_blank">
        <div class="app-item">
          <div class="app-icon"><img src="./assets/icons/icon_everybodymap.png" /></div>
          <div class="app-name">(안드로이드)<br />모두의맵</div>
        </div>
      </a>

      <a href="https://apps.apple.com/app/id6744286659" target="_blank">
        <div class="app-item">
          <div class="app-icon">
            <img src="./assets/icons/icon_everybodymap.png" />
          </div>
          <div class="app-name">(아이폰)<br />모두의맵</div>
        </div>
      </a>

      <a href="https://blog.naver.com/freeformlabs" target="_blank">
        <div class="app-item">
          <div class="app-icon"><img src="./assets/icons/icon_naver_blog.png" /></div>
          <div class="app-name">프리폼랩스</div>
        </div>
      </a>

      <a href="https://wellnessstory.kr" target="_blank">
        <div class="app-item">
          <div class="app-icon"><img src="./assets/icons/icon_wellnessstory.png" /></div>
          <div class="app-name">웰니스스토리</div>
        </div>
      </a>

      <a href="https://coupangreviewlab.tistory.com" target="_blank">
        <div class="app-item">
          <div class="app-icon"><img src="./assets/icons/icon_reviewlab.png" /></div>
          <div class="app-name">쿠팡<br />리뷰연구소</div>
        </div>
      </a>

      <a href="https://play.google.com/store/apps/details?id=com.freeformlabs.nowifi" target="_blank">
        <div class="app-item">
          <div class="app-icon"><img src="./assets/icons/icon_nowifi.png" /></div>
          <div class="app-name">(안드로이드)<br />오프라인<br />게임모음</div>
        </div>
      </a>

      <a>
        <div class="app-item">
          <div class="app-icon">
            <div class="ready">준비중..</div>
            <img src="./assets/icons/icon_nowifi.png" />
          </div>
          <div class="app-name">(아이폰)<br />오프라인<br />게임모음</div>
        </div>
      </a>
    </div>

    <div style="text-align: center"><button onclick="location.reload()" style="padding: 10px 30px">새로고침</button></div>

    <script>
      const C_URL = "https://link.coupang.com/a/cabZVz"; // 👉 여기에 B 사이트 주소 입력

      // // 자동 이동 체크 시
      // document.getElementById("autoRedirect").addEventListener("change", function () {
      //   localStorage.setItem("auto_redirect", this.checked ? "true" : "false");
      //   location.reload();
      // });

      // // 페이지 로드 시 체크박스 상태 반영 및 자동 이동
      // window.addEventListener("DOMContentLoaded", () => {
      //   const isAuto = localStorage.getItem("auto_redirect") === "true";
      //   document.getElementById("autoRedirect").checked = isAuto;

      //   if (isAuto) {
      //     window.location.href = C_URL;
      //   }
      // });

      // // 버튼 클릭 시 이동
      // function goToC() {
      //   window.location.href = C_URL;
      // }

      // ✅ 쿠키 저장
      function setCookie(name, value, days) {
        document.cookie = `${name}=${value}; path=/;`;
      }

      // ✅ 쿠키 읽기
      function getCookie(name) {
        const cookies = document.cookie.split("; ");
        for (let c of cookies) {
          const [key, value] = c.split("=");
          if (key === name) return value;
        }
        return null;
      }

      // ✅ 자동 이동 스위치 변경 시 쿠키 저장 및 새로고침
      document.getElementById("autoRedirect").addEventListener("change", function () {
        setCookie("auto_redirect", this.checked ? "true" : "false", 365);
        location.reload(); // 새로고침 필요 시 유지
      });

      // ✅ 페이지 로드 시 쿠키 확인 → 체크박스 상태 반영 & 자동 이동
      window.addEventListener("DOMContentLoaded", () => {
        const isAuto = getCookie("auto_redirect") === "true";
        document.getElementById("autoRedirect").checked = isAuto;

        if (isAuto) {
          window.location.href = C_URL;
        }
      });
    </script>
  </body>
</html>
